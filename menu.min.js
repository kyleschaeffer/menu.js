/*! menu.js v1.0 | MIT License | https://github.com/oldrivercreative/menu.js */
!function(n){n.fn.menu=function(e){var t=n.extend(!0,{},{selector:this.selector,offcanvas:{style:!1,canvas:".menu-canvas",scroller:"html",blur:!1},expand:{enabled:!1,button:!0,label:'<span class="label">Open menu</span>',single:!1,blur:!1},oninit:!1,ontoggle:!1,destroy:!1},e);return this.each(function(){var e=n(this),a=n('[href="'+t.selector+'"],[data-menu="'+t.selector+'"]');t.destroy?e.trigger("menu-destroy"):(e.on("menu-init",function(){e.addClass("ui-menu"),t.offcanvas.style&&(e.addClass("ui-menu-offcanvas"),n(t.offcanvas.canvas).addClass("ui-menu-canvas"),n(t.offcanvas.scroller).addClass("ui-menu-noscroll"),t.offcanvas.blur&&n(document).on("click",function(e){n(e.target).is(".ui-menu, .ui-menu *, .ui-menu-btn, .ui-menu-btn *")||n(".ui-menu-active").trigger("menu-toggle")})),a.each(function(){n(this).addClass("ui-menu-btn"),n(this).attr("aria-expanded",!1),n(this).on("click",function(n){n.preventDefault(),e.trigger("menu-toggle")})}),t.expand.enabled&&(e.find("ul ul").each(function(){var e=n(this);if(e.addClass("ui-menu-section"),t.expand.button){var a=n('<button class="ui-menu-section-btn">'+t.expand.label+"</button>");e.before(a)}else var a=e.prev("a,button,span");a.attr("aria-expanded",!1),a.on("click",function(a){a.preventDefault(),n(this).toggleClass("ui-menu-section-btn-active"),n(this).siblings(".ui-menu-section").toggleClass("ui-menu-section-active"),n(this).hasClass("ui-menu-section-btn-active")?(n(this).attr("aria-expanded",!0),t.expand.single&&e.closest("li").siblings("li").find(".ui-menu-section-btn-active").trigger("click")):n(this).attr("aria-expanded",!1)})}),t.expand.blur&&n(document).on("click",function(e){n(e.target).is(".ui-menu,.ui-menu *,.ui-menu-btn,.ui-menu-btn *")||n(".ui-menu-section-btn-active").trigger("click")})),"function"==typeof t.oninit&&t.oninit()}),e.on("menu-toggle",function(){e.toggleClass("ui-menu-active"),t.offcanvas.style&&(n(t.offcanvas.canvas).toggleClass("ui-menu-canvas-active-"+t.offcanvas.style),n(t.offcanvas.scroller).toggleClass("ui-menu-noscroll-active"));var i=e.hasClass("ui-menu-active");a.each(function(){n(this).toggleClass("ui-menu-btn-active"),i?n(this).attr("aria-expanded",!0):n(this).attr("aria-expanded",!1)}),"function"==typeof t.ontoggle&&t.onupdate(i)}),e.on("menu-destroy",function(){e.removeClass("ui-menu ui-menu-offcanvas ui-menu-active"),n(t.offcanvas.scroller).removeClass("ui-menu-noscroll ui-menu-noscroll-active"),n(t.offcanvas.canvas).removeClass("ui-menu-canvas").removeClass(function(n,e){return(e.match(/\bui-menu-canvas-active-\S+/g)||[]).join(" ")}),a.each(function(){n(this).removeClass("ui-menu-btn ui-menu-btn-active"),n(this).removeAttr("aria-expanded"),n(this).off("click")}),e.find("ul ul").removeClass("ui-menu-section ui-menu-section-active"),e.find(".ui-menu-section-btn").remove(),e.off("menu-init menu-toggle menu-destroy"),n(document).off("click")}),e.trigger("menu-init"))}),this}}(jQuery);